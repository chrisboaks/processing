int mod(int n, int d) {
  return ((n % d) + d) % d;
}